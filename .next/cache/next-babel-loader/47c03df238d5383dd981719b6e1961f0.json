{"ast":null,"code":"// export default (req, res) => {\n//     const res =  fetch('https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1')\n//     res.setHeader('Content-Type', 'application/json')\n//     res.statusCode = 200\n//     res.json(JSON.stringify({ data: 'res' }))\n//   }\n// import axios from 'axios';\n//   export default async (req, res) => {\n//     switch (req.method) {\n//       case 'GET':\n//             const { query: { id } } = req\n//             //const user = await getUserById(id)\n//             console.log(\"1\");\n//             console.log(user)\n//                 if (!user) {\n//                 return res.status(404).json({\n//                 status: 404,\n//                 message: 'Not Found'\n//                 })\n//             }\n//             return res.json({ user })\n//         break\n//       case 'POST':\n//         //...\n//         break\n//       default:\n//         res.status(405).end() //Method Not Allowed\n//         break\n//     }\n//   }\n//   const getUserById = async () => {\n//     const res =  await axios('https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1')\n//     console.log(\"2\");\n//     console.log(res)\n//       return (res);\n//   }\nimport axios from 'axios';\n\nconst handleGet = () => axios({\n  method: 'GET',\n  url: 'https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1'\n});\n\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n  console.log(\"2\");\n\n  switch (method) {\n    case 'GET':\n      const jsonResponse = await handleGet();\n      console.log('jsonResponse -----> ', jsonResponse);\n      res.json(jsonResponse);\n      break;\n\n    case 'POST':\n      res.json({\n        hello: 'POST!'\n      });\n      break;\n\n    default:\n      res.setHeader('Allow', ['GET', 'POST']);\n      res.status(405).end(`Method ${method} Not Allowed`);\n  }\n}); // const handler = (req, res) => {\n//     return res.json({ hello: 'world!' });\n//   };\n//   export default handler;","map":{"version":3,"sources":["/Users/ashishraina/Desktop/github-projects/nextjs-project/pages/api/index.js"],"names":["axios","handleGet","method","url","req","res","console","log","jsonResponse","json","hello","setHeader","status","end"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAG,MAAMD,KAAK,CAAC;AAC1BE,EAAAA,MAAM,EAAE,KADkB;AAE1BC,EAAAA,GAAG,EAAE;AAFqB,CAAD,CAA7B;;AAKA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,QAAM;AAAEH,IAAAA;AAAF,MAAaE,GAAnB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;;AACA,UAAQL,MAAR;AACE,SAAK,KAAL;AACE,YAAMM,YAAY,GAAG,MAAMP,SAAS,EAApC;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCC,YAApC;AACAH,MAAAA,GAAG,CAACI,IAAJ,CAASD,YAAT;AACA;;AACF,SAAK,MAAL;AACEH,MAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAT;AACA;;AACF;AACEL,MAAAA,GAAG,CAACM,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,EAAQ,MAAR,CAAvB;AACAN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAqB,UAASX,MAAO,cAArC;AAXJ;AAaH,CAhBD,E,CAmBA;AACA;AACA;AACA","sourcesContent":["// export default (req, res) => {\n//     const res =  fetch('https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1')\n//     res.setHeader('Content-Type', 'application/json')\n//     res.statusCode = 200\n//     res.json(JSON.stringify({ data: 'res' }))\n//   }\n// import axios from 'axios';\n\n//   export default async (req, res) => {\n//     switch (req.method) {\n//       case 'GET':\n//             const { query: { id } } = req\n//             //const user = await getUserById(id)\n//             console.log(\"1\");\n//             console.log(user)\n//                 if (!user) {\n//                 return res.status(404).json({\n//                 status: 404,\n//                 message: 'Not Found'\n//                 })\n//             }\n//             return res.json({ user })\n//         break\n//       case 'POST':\n//         //...\n//         break\n//       default:\n//         res.status(405).end() //Method Not Allowed\n//         break\n//     }\n//   }\n\n//   const getUserById = async () => {\n//     const res =  await axios('https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1')\n//     console.log(\"2\");\n//     console.log(res)\n//       return (res);\n//   }\n\nimport axios from 'axios';\n\nconst handleGet = () => axios({\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/popular?api_key=c18a8c63bee9d66665a486a624d48177&language=en-US&page=1',\n})\n\nexport default async (req, res) => {\n    const { method } = req\n    console.log(\"2\");\n    switch (method) {\n      case 'GET':\n        const jsonResponse = await handleGet()\n        console.log('jsonResponse -----> ', jsonResponse)\n        res.json(jsonResponse)\n        break\n      case 'POST':\n        res.json({ hello: 'POST!' })\n        break\n      default:\n        res.setHeader('Allow', ['GET', 'POST'])\n        res.status(405).end(`Method ${method} Not Allowed`)\n  }\n}\n\n\n// const handler = (req, res) => {\n//     return res.json({ hello: 'world!' });\n//   };\n//   export default handler;"]},"metadata":{},"sourceType":"module"}